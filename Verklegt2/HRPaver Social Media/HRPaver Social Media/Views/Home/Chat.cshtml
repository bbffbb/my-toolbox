@{
    ViewBag.Title = "Chat";
}
    <div class="col-m> 
        <div class="container">
            <div class="row">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="glyphicon glyphicon-comment"></span> Chat
                            <div class="pull-right">
                                <input type="text" class="form-control input-sm " id="username" placeholder="Nickname " />
                            </div>
                        </div>
                        <div class="panel-body">
                            <div class="chatbox-inner" id="myDiv">
                                <ul id="liveHelp"></ul>
                            </div>
                        </div>
                        <div class="panel-footer">
                            <div class="input-group">
                                <input id="message" type="text" class="form-control input-sm" placeholder="Type your message here...">
                                <span class="input-group-btn">
                                    <input class="btn btn-warning btn-sm" type="button" id="send" value="Send" />
                                </span>
                            </div>
                        </div>
                </div>
            </div>
        </div>

    

@section scripts {
            <!-- jQuery -->
    <script src="js/jquery.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>
    <script src="~/Scripts/jquery.signalR-2.0.2.min.js"></script>
    <script src="~/signalr/hubs"></script>
    <script>
        var liveHelp = $.connection.liveHelpHub;
        liveHelp.client.showMessage = function (username, message) {
            $('#liveHelp').append('<li>' + username + ': ' + message + '</li>');
            $('#myDiv').scrollTop($('#myDiv')[0].scrollHeight);
        };

        $.connection.hub.start().done(function () {
            $('#send').click(function () {
                liveHelp.server.sendMessage($('#username').val(), $('#message').val());
                $('#message').val('');
            });
        });
    </script>
}